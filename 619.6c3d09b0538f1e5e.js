"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{4619:function(e,o,t){t.r(o),t.d(o,{callOpenRouterAPI:function(){return c},testOpenRouterConnection:function(){return s}});let n="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",r="https://openrouter.ai/api/v1";async function c(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"google/gemini-2.0-flash-exp:free";try{console.log("\uD83D\uDCE1 callOpenRouterAPI appel\xe9 avec",e.length,"messages"),console.log("Appel OpenRouter API avec le mod\xe8le: ".concat(o)),console.log("Messages envoy\xe9s:",JSON.stringify(e,null,2));let t="google/gemini-2.0-flash-exp:free";console.log("\uD83D\uDD04 Utilisation du mod\xe8le: ".concat(t));let c=await fetch("".concat(r,"/chat/completions"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json","HTTP-Referer":"http://localhost:3001","X-Title":"Safarihoo"},body:JSON.stringify({model:t,messages:e,max_tokens:1e3,temperature:.7,stream:!1})});if(console.log("Statut OpenRouter:",c.status),!c.ok){let e=await c.text();throw console.error("Erreur OpenRouter:",c.status,e),Error("OpenRouter API Error: ".concat(c.status," - ").concat(e))}let s=await c.json();if(console.log("R\xe9ponse OpenRouter:",s),s.choices&&s.choices[0]&&s.choices[0].message&&s.choices[0].message.content)return s.choices[0].message.content;throw console.error("Structure de r\xe9ponse invalide:",s),Error("Structure de r\xe9ponse invalide de OpenRouter")}catch(e){throw console.error("Erreur callOpenRouterAPI:",e),e}}async function s(){try{console.log("Test de connexion OpenRouter...");let e=await fetch("".concat(r,"/models"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});return console.log("Test connexion - Statut:",e.status),e.ok}catch(e){return console.error("Erreur test connexion:",e),!1}}}}]);